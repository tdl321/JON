---
description: Product Requirements Document for JON trading algorithm. Defines core philosophy, strategy features, risk management requirements, and acceptance criteria for the automated trading system.
globs: 
alwaysApply: false
---
---
description: Product Requirements Document for JON trading algorithm. Defines core philosophy, strategy features, risk management requirements, and acceptance criteria for the automated trading system.
alwaysApply: false
---

# ðŸ“„ Product Requirements Document (PRD): JON
## 1. Executive Summary & Philosophy
### 1.1 Vision
To provide a superior alternative to traditional "buy and hold" investing that delivers comparable or greater returns with significantly less drawdown.  
JON is designed as a fully automated, low-stress system that delegates all entry, exit, and risk management decisions to a pre-defined, robust algorithm.  

### 1.2 Core Philosophy
- **Automate Everything**  
  Leverage modern tools (AI, webhooks) to eliminate emotional errors and the need for manual execution. 
- **Robustness over Optimization**  
  The system's credibility comes from its proven performance across multiple asset classes (Crypto, Indices, Metals) and its resilience through numerous historical market crashes (1929, 1987, 2000, 2008, 2020, 2022). It is a robust, not fragile, system.
- **Sidestep Bear Markets**  
  The primary alpha is generated by systematically avoiding catastrophic drawdowns associated with major bear markets. The system is designed to go to the sidelines and preserve capital, re-entering when the trend safely resumes.
- **Low-Frequency Investing**  
  This is not day trading. With an average of less than one trade per month per asset, the system prioritizes high-quality, long-term signals, demanding patience from the user.
---
## 2. Robustness & Backtesting Doctrine
| ID    | Requirement            | Description                                                                                      | Acceptance Criteria                                                                                     |
|-------|------------------------|--------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| B-1   | Multi-Asset Validation | The core strategy logic must be profitable and robust across fundamentally different assets.    | Must outperform "buy and hold" on a risk-adjusted basis on: `BTCUSD`, `NDX/QQQ`, and `XAUUSD`.          |
| B-2   | Deep Historical Data   | The strategy must be tested against all major market crises.                                     | Must include: 1987, 2000, 2008, 2020, 2022 â€” wherever data is available.                                |
| B-3   | No Over-Optimization   | Core parameters must be universal, with minor justifiable asset-specific logic only.             | A "Global Default" preset is required. Deviations must be explicitly justified (e.g., NASDAQ 401k flows).|
---
## 3. System Features & Requirements
### 3.1 Core Strategy Logic
| ID    | Feature                      | Description                                                                                           | Acceptance Criteria                                                                                                     |
|--------|-----------------------------|-------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| F-1    | 200-Period SMA Trend Filter | Confirms macro uptrend to avoid long positions in bear markets.                                       | 1. Asset must be above its 200 SMA. <br> 2. (Optional) Reference asset (e.g., TOTAL) must also be above 200 SMA.         |
| F-2    | Entry Trigger 1: Breakout   | Enter long on breakout and close above recent high.                                                   | 1. Identify recent high <br> 2. Age within user-defined range <br> 3. Entry on candle close above high.                  |
| F-3    | Entry Trigger 2: Dip Buy    | Enter long after retesting a recent low and recovering.                                               | 1. Identify recent low <br> 2. Entry on candle close above recovery threshold.                                           |
| F-4    | Configurable Exit Strategy  | Select exit type to fit asset behavior.                                                               | 1. Two modes: ATR Trail (BTC/Gold), Aggressive Profit Take (indices) <br> 2. User-selectable in inputs.                  |
| F-5    | Opportunistic Profit Taking | Exit failed breakouts that lack follow-through.                                                       | Exit if breakout fails to make new high within `X` bars.                                                                 |
---
### 3.2 Risk & Position Management
| ID    | Feature                 | Description                                                                                     | Acceptance Criteria                                                                                      |
|--------|------------------------|--------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| R-1    | ATR-Based Sizing       | Size position based on volatility and fixed account %                                            | 1. User defines risk % (e.g. 1%) <br> 2. Formula: `(Risk Capital) / (ATR * Stop Loss Multiple)`           |
| R-2    | Hard Stop Loss         | Enforce stop loss on every trade.                                                               | Stop is placed `N` ATR below entry price.                                                                |
| R-3    | Profit-Funded Leverage | Leverage can be used **only** with unrealized profits.                                          | Must be opt-in, clearly documented, and never used for initial position sizing unless user toggles it.   |
| R-4    | Pyramiding Engine      | Add to winning trades at logical re-entry points.                                               | Each tiered entry (T1, T2, T3) must have own stop. Stops may be managed individually or with a master trail. |
---
### 3.3 User Interface & Visuals
| ID    | Feature                  | Description                                                                                     | Acceptance Criteria                                                                                      |
|--------|--------------------------|--------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| UI-1   | On-Chart Signals         | Show all trades, filters, and exits visually.                                                   | 1. Buy (â–²), sell (â–¼), 200 SMA line, stop/trail levels clearly drawn.                                     |
| UI-2   | Strategy Tester Support  | Use TradingView's native backtester with benchmark overlay.                                     | 1. Plot equity vs. Buy & Hold curve. <br> 2. Display key stats: Net Profit, Max DD, Profit Factor, etc.  |
